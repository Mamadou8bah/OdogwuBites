<section class="font-roboto min-h-screen py-12 pt-32 px-4 flex flex-col items-center">
    
    <div class="text-center mb-10">
        <h1 class="text-orange-400 text-5xl mb-2">Our Menu</h1>
        <p class="text-gray-400 text-2xl tracking-wide">Discover our selection of handcrafted dishes</p>
    </div>

    <div class="relative w-full max-w-xl mb-12">
        <div class="bg-black/10 border border-white/10 rounded-full flex items-center px-6 py-3 shadow-2xl focus-within:border-white/30 transition">
            <input type="text" placeholder="Search for food (e.g. Chicken Afra)..." 
            class="bg-transparent w-full text-sm text-gray-300 focus:outline-none placeholder-gray-400" 
                [(ngModel)]="searchInput" (ngModelChange)="onSearchChange()">
            <div class="w-5 h-5 text-gray-500">
                <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>
            </div>
        </div>
    </div>

    <nav class="flex flex-nowrap overflow-x-auto gap-8 mb-16 no-scrollbar text-[0.9rem] font-bold tracking-[0.2em] uppercase text-gray-500 w-full justify-start md:justify-center px-4">
        <a class="cursor-pointer text-orange-400 border-b-2 border-orange-400 pb-1 shrink-0" (click)="toggleCategory('All')">All</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Pizza')">Pizza</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Burgers')">Burgers</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Chicken')">Chicken</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Rice Meals')">Rice Meals</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Pasta')">Pasta</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Shawarma & Wraps')">Shawarma & Wraps</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Sides')">Sides</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Desserts')">Desserts</a>
        <a class="cursor-pointer hover:text-gray-300 transition shrink-0" (click)="toggleCategory('Drinks')">Drinks</a>
    </nav>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 w-full max-w-6xl place-items-center">
        <div class="loader4 w-full" ></div>
        <div *ngIf="filteredMenuItems.length<1 && !isLoading" class="flex flex-col justify-center items-center w-full self-center">
            <div class="w-[7rem] h-[7rem] ">
                <svg viewBox="0 0 64 64" enable-background="new 0 0 64 64" id="Layer_1" version="1.1" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M13.143,24.958l-0.28,0.203l0.282-0.2L13.143,24.958l-0.28,0.203l0.282-0.2 c-0.026-0.022-1.159-1.688-1.145-3.705c0.004-1.046,0.271-2.188,1.143-3.396c1.128-1.549,1.528-3.165,1.524-4.57 c-0.015-2.819-1.472-4.79-1.524-4.877c-0.324-0.447-0.949-0.547-1.396-0.223S11.2,9.14,11.524,9.587l0.282-0.204l-0.284,0.201 l0.002,0.003l0.282-0.204l-0.284,0.201c0.026,0.022,1.159,1.688,1.145,3.706c-0.004,1.046-0.271,2.188-1.143,3.396 c-1.128,1.549-1.528,3.164-1.524,4.569c0.015,2.819,1.472,4.789,1.524,4.876c0.324,0.447,0.95,0.547,1.397,0.223 C13.368,26.03,13.467,25.405,13.143,24.958z" fill="#fd8b21"></path> <path d="M34.143,24.958l-0.28,0.203l0.282-0.2L34.143,24.958l-0.28,0.203l0.282-0.2 c-0.026-0.022-1.159-1.688-1.145-3.705c0.004-1.046,0.271-2.188,1.143-3.396c1.128-1.549,1.528-3.165,1.524-4.57 c-0.015-2.819-1.472-4.79-1.524-4.877c-0.324-0.447-0.949-0.547-1.396-0.223S32.2,9.14,32.524,9.587l0.282-0.204l-0.284,0.201 l0.002,0.003l0.282-0.204l-0.284,0.201c0.026,0.022,1.159,1.688,1.145,3.706c-0.004,1.046-0.271,2.188-1.143,3.396 c-1.128,1.549-1.528,3.164-1.524,4.569c0.015,2.819,1.472,4.789,1.524,4.876c0.324,0.447,0.95,0.547,1.397,0.223 C34.368,26.03,34.467,25.405,34.143,24.958z" fill="#fd8b21"></path> <path d="M23.643,24.958l-0.281,0.203l0.283-0.2L23.643,24.958l-0.281,0.203l0.283-0.2 c-0.026-0.022-1.159-1.688-1.145-3.705c0.004-1.045,0.271-2.187,1.143-3.395c1.128-1.55,1.528-3.166,1.524-4.571 c-0.015-2.819-1.472-4.79-1.524-4.877c-0.324-0.447-0.95-0.547-1.396-0.223C21.799,8.515,21.7,9.14,22.024,9.587l0.281-0.204 l-0.283,0.201l0.002,0.003l0.281-0.204l-0.283,0.201c0.026,0.022,1.158,1.688,1.145,3.706c-0.004,1.046-0.271,2.188-1.143,3.397 c-1.128,1.549-1.528,3.164-1.524,4.568c0.015,2.819,1.472,4.789,1.524,4.876c0.324,0.447,0.95,0.547,1.397,0.223 C23.868,26.03,23.967,25.405,23.643,24.958z" fill="#fd8b21"></path> <path d="M9,53h29c0.552,0,1-0.447,1-1s-0.448-1-1-1H9c-0.552,0-1,0.447-1,1S8.448,53,9,53" fill="#fd8b21"></path> <path d="M18,48.573h1c-0.001-0.691-0.221-1.306-0.507-1.821c-0.435-0.773-1.024-1.36-1.506-1.778 c-0.482-0.415-0.862-0.655-0.892-0.674c-0.326-0.206-0.739-0.206-1.065,0c-0.04,0.025-0.701,0.44-1.399,1.149 c-0.349,0.355-0.709,0.786-0.998,1.303c-0.287,0.516-0.506,1.13-0.507,1.821c0.002,1.138,0.321,2.186,0.899,3.002 c0.29,0.408,0.649,0.759,1.079,1.015c0.428,0.256,0.932,0.411,1.46,0.41c0.528,0.001,1.032-0.154,1.46-0.41 c0.645-0.386,1.129-0.978,1.462-1.668C18.817,50.229,19,49.427,19,48.573H18h-1c0.002,0.754-0.224,1.42-0.529,1.843 C16.32,50.629,16.154,50.78,16,50.871c-0.156,0.091-0.292,0.128-0.438,0.129c-0.145-0.001-0.282-0.038-0.438-0.129 c-0.23-0.135-0.49-0.412-0.683-0.815c-0.193-0.401-0.318-0.917-0.317-1.482c-0.001-0.255,0.084-0.542,0.254-0.848 c0.251-0.456,0.689-0.916,1.065-1.237c0.188-0.162,0.357-0.291,0.477-0.377l0.137-0.096l0.033-0.021l0.006-0.004l-0.159-0.248 l0.157,0.249l0.002-0.001l-0.159-0.248l0.157,0.249l-0.533-0.846l-0.533,0.846l0.036-0.058l-0.037,0.058h0.001l0.036-0.058 l-0.037,0.058c0.032,0.019,0.586,0.384,1.088,0.909c0.251,0.261,0.486,0.561,0.645,0.854C16.921,48.05,17,48.326,17,48.573H18z" fill="#fd8b21"></path> <path d="M25.875,48.427h1c-0.001-0.691-0.221-1.306-0.507-1.82c-0.435-0.773-1.024-1.36-1.506-1.778 C24.38,44.413,24,44.173,23.97,44.154c-0.326-0.206-0.739-0.206-1.065,0c-0.04,0.025-0.701,0.44-1.399,1.148 c-0.349,0.356-0.709,0.787-0.998,1.304c-0.287,0.515-0.506,1.129-0.507,1.82c0.002,1.139,0.321,2.187,0.899,3.003 c0.29,0.407,0.649,0.759,1.079,1.015c0.428,0.256,0.932,0.411,1.46,0.41c0.528,0.001,1.032-0.154,1.46-0.41 c0.645-0.386,1.129-0.978,1.462-1.668c0.333-0.693,0.515-1.495,0.515-2.35H25.875h-1c0.002,0.754-0.225,1.42-0.529,1.844 c-0.151,0.213-0.317,0.364-0.471,0.455c-0.156,0.091-0.292,0.128-0.438,0.129c-0.145-0.001-0.282-0.038-0.438-0.129 c-0.23-0.135-0.49-0.412-0.682-0.815C22.124,49.509,22,48.992,22,48.427c-0.001-0.255,0.084-0.541,0.254-0.847 c0.251-0.456,0.689-0.916,1.065-1.237c0.188-0.162,0.357-0.291,0.477-0.377l0.137-0.096l0.033-0.021l0.006-0.004l-0.159-0.249 l0.157,0.25l0.002-0.001l-0.159-0.249l0.157,0.25L23.438,45l-0.533,0.846l0.036-0.058l-0.037,0.058h0.001l0.036-0.058l-0.037,0.058 c0.032,0.019,0.586,0.385,1.088,0.909c0.251,0.261,0.486,0.561,0.645,0.854c0.16,0.295,0.239,0.571,0.239,0.818H25.875z" fill="#fd8b21"></path> <path d="M33.875,48.427h1c-0.001-0.691-0.221-1.306-0.507-1.82c-0.435-0.773-1.024-1.36-1.506-1.778 C32.38,44.413,32,44.173,31.97,44.154c-0.326-0.206-0.739-0.206-1.065,0c-0.04,0.025-0.701,0.44-1.399,1.148 c-0.349,0.356-0.709,0.787-0.998,1.304c-0.287,0.515-0.506,1.129-0.507,1.82c0.002,1.139,0.321,2.187,0.899,3.003 c0.29,0.407,0.649,0.759,1.079,1.015c0.428,0.256,0.932,0.411,1.46,0.41c0.528,0.001,1.032-0.154,1.46-0.41 c0.645-0.386,1.129-0.978,1.462-1.668c0.333-0.693,0.515-1.495,0.515-2.35H33.875h-1c0.002,0.754-0.225,1.42-0.529,1.844 c-0.151,0.213-0.317,0.364-0.471,0.455c-0.156,0.091-0.292,0.128-0.438,0.129c-0.145-0.001-0.282-0.038-0.438-0.129 c-0.23-0.135-0.49-0.412-0.682-0.815C30.124,49.509,30,48.992,30,48.427c-0.001-0.255,0.084-0.541,0.254-0.847 c0.251-0.456,0.689-0.916,1.065-1.237c0.188-0.162,0.357-0.291,0.477-0.377l0.137-0.096l0.033-0.021l0.006-0.004l-0.159-0.249 l0.157,0.25l0.002-0.001l-0.159-0.249l0.157,0.25L31.438,45l-0.533,0.846l0.036-0.058l-0.037,0.058h0.001l0.036-0.058l-0.037,0.058 c0.032,0.019,0.586,0.385,1.088,0.909c0.251,0.261,0.486,0.561,0.645,0.854c0.16,0.295,0.239,0.571,0.239,0.818H33.875z" fill="#fd8b21"></path> </g> <g> <path d="M41.75,36v-6h-1H6c-0.552,0-1,0.447-1,1v7c0.004,2.207,1.793,3.996,4,4h28.75c2.207-0.004,3.996-1.793,4-4 V36z M10,36.75C10,37.441,9.552,38,9,38s-1-0.559-1-1.25v-2.5C8,33.559,8.448,33,9,33s1,0.559,1,1.25V36.75z" fill="#fd8b21"></path> <path d="M58.606,31.687c-0.364-0.567-0.903-0.975-1.521-1.255C56.466,30.152,55.755,30.001,55,30H43.75v6H55 c1.007-0.003,1.935-0.267,2.673-0.756c0.368-0.246,0.692-0.553,0.933-0.931C58.848,33.938,59.001,33.481,59,33 C59.001,32.519,58.848,32.062,58.606,31.687z" fill="#fd8b21"></path> </g> </g></svg>
            </div>
            <p>No Items! Please come back later</p>
        </div>
        <div *ngFor="let item of filteredMenuItems" 
            class="group bg-[#222] rounded-[2.5rem] overflow-hidden border border-white/5 hover:border-white/10 transition-all duration-300" (click)="toggleMenuDetails(item)">
            
            <div class="relative h-64 overflow-hidden">
                <img class="w-full h-full object-cover transition duration-700 group-hover:scale-105" [src]="item.imageUrl" [alt]="item.title">
                <div class="absolute inset-0 bg-gradient-to-t from-[#222] via-[#222]/20 to-transparent"></div>
            </div>

            <div class="p-8 pt-0">
                <h3 class="text-xl font-semibold mb-1 text-white">{{item.title}}</h3>
                
                <div class="flex gap-1 mb-3 text-yellow-300 text-[19px]">
                    <span>★</span><span>★</span><span>★</span><span>★</span><span>★</span>
                </div>

                <p class="text-gray-500 text-sm leading-relaxed mb-6 line-clamp-2 min-h-[40px]">
                    {{item.description}}
                </p>

                <p class="text-orange-200 text-[10px] uppercase tracking-widest mb-4 opacity-70">{{item.categoryName}}</p>

                <div class="flex justify-between items-center pt-4 border-t border-white/5">
                    <span class="text-xl font-bold text-white">D{{item.price}}</span>
                    
                    <button class="text-[11px] font-black uppercase tracking-[0.2em] text-gray-400 hover:text-orange-200 transition-colors cursor-pointer">
                        ORDER
                    </button>
                </div>
            </div>
        </div>
    </div>

    <app-menu-details
        *ngIf="clickedMenuItem"
        [menuItem]="clickedMenuItem"
        (closed)="clickedMenuItem = null"
    ></app-menu-details>
</section>

<style>
    /* Hides scrollbar but allows scrolling for categories on mobile */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
</style>