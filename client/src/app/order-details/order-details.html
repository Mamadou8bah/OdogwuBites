<section>
    <div class=" border-neutral-800 bg-neutral-900 p-4 rounded-3xl flex flex-row gap-10 flex-wrap justify-center">
        <div class=" flex flex-col items-center gap-4 bg-black/20 p-6 rounded-2xl w-[32rem] ">
             <div class="logo flex flex-col items-center gap-3 mb-10 px-2">
                <h1 class="logo-text font-bold text-4xl font-lobster text-orange-400">
                    OdogwuBites
                </h1>
                <button (click)="goBack()" class="text-gray-400 hover:text-white transition flex items-center gap-2 mt-4 print:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
                    Back to Orders
                </button>
            </div>
        </div>
        <div class="grid grid-cols-2 w-[38rem] gap-6 bg-black/20 p-6 rounded-2xl text-center items-center"> 
            <div class="bg-neutral-900  rounded-2xl p-5 flex flex-col gap-2">
                <p class="text-orange-400">Client</p>
                <p>{{order?.clientName}}</p>
            </div>

            <div class="bg-neutral-900  rounded-2xl p-5 flex flex-col gap-2">
                <p class="text-orange-400">Email</p>
                <p>{{order?.clientEmail}}</p>
            </div>

            <div class="bg-neutral-900  rounded-2xl p-5 flex flex-col gap-2">
                <p class="text-orange-400">Status</p>
                <p>{{order?.status.toUpperCase()}}</p>
            </div>

            <div class="bg-neutral-900  rounded-2xl p-5 flex flex-col gap-2">
                <p class="text-orange-400">Address</p>
                <p>{{order?.delivery?.address}}</p>
            </div>

            <div class="bg-neutral-900  rounded-2xl p-5 flex flex-col gap-2">
                <p class="text-orange-400">Total Payments</p>
                <p>{{order?.payment.amountPaid}}</p>
            </div>

            <div class="bg-neutral-900  rounded-2xl p-5 flex flex-col gap-2">
                <p class="text-orange-400">Total Items</p>
                <p>{{order?.items.length}}</p>
            </div>
        </div>

        <div class="flex flex-col items-center gap-4 bg-black/20 p-6 rounded-2xl w-[32rem]">
            <p class="text-[2.2rem] text-orange-400">Items</p>
            <div class="w-[100%] flex flex-col gap-3">
                <div *ngFor="let o of order?.items" class="w-[100%] rounded-2xl bg-neutral-900 px-3 py-2 flex flex-col gap-1" >
                    <p class="font-bold text-[0.9rem]">{{o.item}}</p>
                    <div class="flex flex-row justify-between items-center w-[100%]">
                        <div class="text-gray-400 text-[0.7rem]">
                            <p>{{o.name}}</p>
                            <p>D{{o.totalPrice}}</p>
                            <p>{{o.quantity}}</p>
                        </div>
                        <div class="flex flex-col text-[0.7rem] justify-between h-full">
                            <p>{{o.orderDate | date}}</p>
                            <p [ngClass]="{'text-green-500': o.status === 'delivered', 'text-red-500': o.status !== 'delivered'}">
                            {{o.status?.toUpperCase()}}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
           
            <div *ngIf="order" class="w-[38rem] mt-4 bg-black/20 p-4 rounded-2xl text-center">
                <p class="text-orange-400 text-[2.2rem]">Map</p>
                <div class="h-[23rem] rounded-xl overflow-hidden border border-white/10">
                    <iframe
                        *ngIf="safeMapUrl"
                        width="100%"
                        height="100%"
                        style="border:0"
                        loading="lazy"
                        [src]="safeMapUrl">
                    </iframe>
                </div>
            </div>

        </div>

        <!-- Action Buttons -->
        <div class="w-full flex flex-wrap justify-center gap-4 mt-10 print:hidden">
            <button *ngIf="order?.status === 'pending'" (click)="updateStatus('confirmed')" 
                class="px-8 py-3 bg-orange-500 text-white font-bold rounded-2xl hover:bg-orange-600 transition-all duration-300">
                Confirm Order
            </button>
            <button *ngIf="order?.status !== 'delivered' && order?.status !== 'cancelled'" (click)="updateStatus('delivered')" 
                class="px-8 py-3 bg-orange-500 text-white font-bold rounded-2xl hover:bg-orange-600 transition-all duration-300">
                Mark as Completed
            </button>
            <button *ngIf="order?.status !== 'delivered' && order?.status !== 'cancelled'" (click)="updateStatus('cancelled')" 
                class="px-8 py-3 border border-neutral-800 text-gray-400 rounded-2xl hover:bg-neutral-800 hover:text-red-500 transition-all duration-300">
                Cancel Order
            </button>
        </div>
    </div>
</section>