<section class="space-y-6">
	<!-- Top mini cards -->
	<div class="grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4">
		<div
			*ngFor="let card of miniCards"
			class="rounded-2xl border border-white/10 bg-[#222] p-4"
		>
			<div class="flex items-start justify-between">
				<div>
					<p class="text-sm text-gray-400">{{ card.title }}</p>
					<p class="mt-1 text-2xl font-semibold text-gray-100">{{ card.value }}</p>
					<p class="mt-1 text-xs text-gray-500">{{ card.delta }}</p>
				</div>
			</div>

			<div class="mt-3">
				<ngx-charts-line-chart
					[results]="card.results"
					[scheme]="card.scheme"
					[view]="sparkView"
					[legend]="false"
					[xAxis]="false"
					[yAxis]="false"
					[showGridLines]="false"
					[autoScale]="true"
					[roundDomains]="true"
					[animations]="true"
					[curve]="curve"
					[tooltipDisabled]="true"
				></ngx-charts-line-chart>
			</div>
		</div>
	</div>

	<!-- Main chart -->
	<div class="rounded-2xl border border-white/10 bg-[#222] p-5">
		<div class="mb-4 flex flex-wrap items-center justify-between gap-3">
			<div class="flex items-center gap-4">
				<h2 class="text-lg font-semibold text-gray-100">Revenue chart</h2>
				<div class="hidden items-center gap-3 text-sm text-gray-500 md:flex">
					<span>Total Projects</span>
					<span>Operating Status</span>
				</div>
			</div>
			<div class="text-sm text-gray-400">This year vs last year</div>
		</div>

		<div #revenueContainer class="w-full">
			<ngx-charts-line-chart
				[results]="revenueComparisonResults"
				[scheme]="schemeComparison"
				[view]="revenueView"
				[legend]="true"
				[legendTitle]="'Year'"
				[xAxis]="true"
				[yAxis]="true"
				[showXAxisLabel]="true"
				[xAxisLabel]="'Month'"
				[showYAxisLabel]="true"
				[yAxisLabel]="'Revenue (D)'"
				[yAxisTickFormatting]="currencyTick"
				[wrapTicks]="wrapTicks"
				[maxXAxisTickLength]="maxXAxisTickLength"
				[maxYAxisTickLength]="maxYAxisTickLength"
				[autoScale]="true"
				[roundDomains]="true"
				[animations]="true"
				[curve]="curve"
			>
				<ng-template #tooltipTemplate let-model="model">
					<div class="rounded-xl border border-white/10 bg-[#111] px-3 py-2 text-xs text-gray-200 shadow-xl">
						<div class="font-semibold text-gray-100">{{ model?.series }}</div>
						<div class="mt-0.5 text-gray-400">{{ model?.name }}</div>
						<div class="mt-1">
							<span class="text-gray-300">Revenue:</span>
							<span class="font-semibold text-orange-300">{{ tooltipCurrency(model?.value) }}</span>
						</div>
					</div>
				</ng-template>
			</ngx-charts-line-chart>
		</div>
	</div>

	<!-- Bottom charts -->
	<div class="grid grid-cols-1 gap-4 xl:grid-cols-3">
		<div class="rounded-2xl border border-white/10 bg-[#222] p-5">
			<div class="mb-4 flex items-center justify-between">
				<h2 class="text-lg font-semibold text-gray-100">Product status</h2>
			</div>
			<div #pieContainer class="w-full">
				<ngx-charts-pie-chart
					[results]="productStatusResults"
					[scheme]="schemeStatus"
					[customColors]="statusColors"
					[view]="pieView"
					[doughnut]="true"
					[legend]="true"
					[legendTitle]="'Status'"
					[labels]="false"
					[animations]="true"
					[tooltipText]="statusTooltipText"
				></ngx-charts-pie-chart>
			</div>
		</div>

		<div class="rounded-2xl border border-white/10 bg-[#222] p-5 xl:col-span-2">
			<div class="mb-4 flex items-center justify-between">
				<h2 class="text-lg font-semibold text-gray-100">Top customers</h2>
			</div>
			<div #barContainer class="w-full">
				<ngx-charts-bar-vertical
					[results]="topCustomersResults"
					[scheme]="schemePrimary"
					[view]="barView"
					[xAxis]="true"
					[yAxis]="true"
					[showXAxisLabel]="true"
					[xAxisLabel]="'Customer'"
					[showYAxisLabel]="true"
					[yAxisLabel]="'Total spent (D)'"
					[legend]="false"
					[yAxisTickFormatting]="currencyTick"
					[wrapTicks]="wrapTicks"
					[maxXAxisTickLength]="maxXAxisTickLength"
					[maxYAxisTickLength]="maxYAxisTickLength"
					[animations]="true"
					[roundDomains]="true"
				>
					<ng-template #tooltipTemplate let-model="model">
						<div class="rounded-xl border border-white/10 bg-[#111] px-3 py-2 text-xs text-gray-200 shadow-xl">
							<div class="font-semibold text-gray-100">{{ model?.name }}</div>
							<div class="mt-1">
								<span class="text-gray-300">Total spent:</span>
								<span class="font-semibold text-orange-300">{{ tooltipCurrency(model?.value) }}</span>
							</div>
						</div>
					</ng-template>
				</ngx-charts-bar-vertical>
			</div>
		</div>
	</div>
</section>
